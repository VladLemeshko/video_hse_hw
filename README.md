# Video Processing - –î–æ–º–∞—à–Ω–∏–µ –ó–∞–¥–∞–Ω–∏—è

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π –ø–æ –∫—É—Ä—Å—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–∏–¥–µ–æ-–ø–∞–π–ø–ª–∞–π–Ω–∞ –∏ video object segmentation.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
video/
‚îú‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ scripts/               # –°–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ setup_env.sh       # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ run_and_save_logs.sh   # –ó–∞–ø—É—Å–∫ —Å –ª–æ–≥–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ test_setup.py      # –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ docs/                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ SETUP.md           # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
‚îÇ   ‚îú‚îÄ‚îÄ FOR_TEACHER.md     # –î–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ HW1.md             # –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π HW1
‚îÇ   ‚îî‚îÄ‚îÄ HW2.md             # –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π HW2
‚îÇ
‚îú‚îÄ‚îÄ hw1/                   # –ó–∞–¥–∞–Ω–∏—è –ø–æ –≤–∏–¥–µ–æ-–ø–∞–π–ø–ª–∞–π–Ω—É (10 –∑–∞–¥–∞—á)
‚îú‚îÄ‚îÄ hw2/                   # Video Object Segmentation (2 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
‚îú‚îÄ‚îÄ utils/                 # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ data/                  # –í–∏–¥–µ–æ —Ñ–∞–π–ª—ã (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ outputs/               # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (–≤ Git)
‚îî‚îÄ‚îÄ logs/                  # –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≤ Git)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
bash scripts/setup_env.sh
source venv_video/bin/activate
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ

```bash
bash scripts/download_test_video.sh
```

### 3. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∑–∞–¥–∞–Ω–∏–π

```bash
# –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ª–æ–≥–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
bash scripts/run_and_save_logs.sh

# –ò–ª–∏ –±–µ–∑ –ª–æ–≥–æ–≤
bash scripts/run_on_server.sh
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```bash
ls outputs/     # –í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
ls logs/        # –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[SETUP.md](docs/SETUP.md)** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∑–∞–ø—É—Å–∫—É
- **[FOR_TEACHER.md](docs/FOR_TEACHER.md)** - –î–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è: –≥–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **[HW1.md](docs/HW1.md)** - –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –ø–æ –≤–∏–¥–µ–æ-–ø–∞–π–ø–ª–∞–π–Ω—É
- **[HW2.md](docs/HW2.md)** - –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –ø–æ VOS

## üì¶ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π

### HW1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–∏–¥–µ–æ-–ø–∞–π–ø–ª–∞–π–Ω–∞ (10 –∑–∞–¥–∞—á)

| –ó–∞–¥–∞—á–∞ | –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| 1 | `hw1/task01_decoder.py` | –ë–∞–∑–æ–≤—ã–π –¥–µ–∫–æ–¥–µ—Ä –≤–∏–¥–µ–æ–∫–∞–¥—Ä–æ–≤ |
| 2 | `hw1/task02_dataset.py` | VideoDataset –¥–ª—è PyTorch |
| 3 | `hw1/task03_parallel.py` | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö |
| 4 | `hw1/task04_profiling.py` | –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–π–ø–ª–∞–π–Ω–∞ |
| 5 | `hw1/task05_prefetch.py` | Prefetch –∏ pinned memory |
| 6 | `hw1/task06_pipeline_overlap.py` | Pipeline overlap |
| 7 | `hw1/task07_hardware_decode.py` | –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| 8 | `hw1/task08_gpu_preprocess.py` | GPU –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ |
| 9 | `hw1/task09_fps_stability.py` | –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å FPS |
| 10 | `hw1/task10_realtime_pipeline.py` | Real-time –ø–∞–π–ø–ª–∞–π–Ω |

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- Multiprocessing (num_workers)
- Prefetch –∏ pinned memory
- CUDA Streams –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏
- Pipeline overlap (–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ || –∏–Ω—Ñ–µ—Ä–µ–Ω—Å)
- –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (NVDEC)
- GPU –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥
- –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ—á–µ—Ä–µ–¥—å (frames + clips)

### HW2: Video Object Segmentation

**–í–∞—Ä–∏–∞–Ω—Ç A: –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Å–æ–∫**
- –§–∞–π–ª—ã: `hw2/variant_a/`
- 3 –º–µ—Ç–æ–¥–∞ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è (temporal window, median, motion-aware)
- –ú–µ—Ç—Ä–∏–∫–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ (IoU, –º–µ—Ä—Ü–∞–Ω–∏–µ, –¥—Ä–æ–∂–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü)
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ/–ø–æ—Å–ª–µ

**–í–∞—Ä–∏–∞–Ω—Ç B: VOS —Å –ø–µ—Ä–µ–Ω–æ—Å–æ–º –º–∞—Å–∫–∏**
- –§–∞–π–ª—ã: `hw2/variant_b/`
- –û–ø—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫ (Farneb√§ck)
- 4 –º–µ—Ç–æ–¥–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞ (baseline, forward, bidirectional, full)
- –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ (—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è, –¥—Ä–µ–π—Ñ, —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è)

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã **–≤–∫–ª—é—á–µ–Ω—ã –≤ Git** –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:

```
outputs/
‚îú‚îÄ‚îÄ hw1/                    # –ì—Ä–∞—Ñ–∏–∫–∏ HW1
‚îÇ   ‚îú‚îÄ‚îÄ task03_throughput.png
‚îÇ   ‚îú‚îÄ‚îÄ task04_profiling.png
‚îÇ   ‚îú‚îÄ‚îÄ task05_prefetch.png
‚îÇ   ‚îú‚îÄ‚îÄ task08_gpu_preprocess.png
‚îÇ   ‚îú‚îÄ‚îÄ task09_fps_stability.png
‚îÇ   ‚îî‚îÄ‚îÄ task10_report.txt
‚îÇ
‚îî‚îÄ‚îÄ hw2/                    # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã HW2
    ‚îú‚îÄ‚îÄ variant_a/          # –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –º–∞—Å–æ–∫
    ‚îî‚îÄ‚îÄ variant_b/          # VOS

logs/
‚îú‚îÄ‚îÄ run_YYYYMMDD_HHMMSS.log     # –ü–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ –∫–æ–Ω—Å–æ–ª–∏
‚îî‚îÄ‚îÄ RESULTS_SUMMARY.md          # –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
```

## üõ† –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è HW1

```bash
# –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
python hw1/task01_decoder.py --video data/test.mp4

# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
python hw1/task03_parallel.py --video_dir data

# –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å GPU
python hw1/task04_profiling.py --video_dir data --use_cuda

# Real-time –ø–∞–π–ø–ª–∞–π–Ω
python hw1/task10_realtime_pipeline.py --video data/test.mp4 --use_cuda
```

### HW2 –í–∞—Ä–∏–∞–Ω—Ç A

```bash
# –†–∞–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
python hw2/variant_a/stabilization.py \
    --video data/test.mp4 \
    --num_frames 30 \
    --smoothing window \
    --use_cuda

python hw2/variant_a/stabilization.py \
    --video data/test.mp4 \
    --num_frames 30 \
    --smoothing motion \
    --use_cuda
```

### HW2 –í–∞—Ä–∏–∞–Ω—Ç B

```bash
python hw2/variant_b/vos_system.py \
    --video data/test.mp4 \
    --num_frames 30
```

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- PyTorch 2.0+ (—Å CUDA 11.0+)
- PyAV (–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- OpenCV (–æ–ø—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫)
- TorchVision (–º–æ–¥–µ–ª–∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏)
- 16GB RAM, GPU 8GB+ VRAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫: [requirements.txt](requirements.txt)

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
python scripts/test_setup.py
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
- ‚úì –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úì CUDA –¥–æ—Å—Ç—É–ø–Ω–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å GPU)
- ‚úì –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

## üìù –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–°–∫—Ä–∏–ø—Ç `scripts/run_and_save_logs.sh` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ –∫–æ–Ω—Å–æ–ª–∏ –≤ `logs/`
3. –°–æ–∑–¥–∞–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç `logs/RESULTS_SUMMARY.md`

## üë®‚Äçüè´ –î–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

–°–º. **[docs/FOR_TEACHER.md](docs/FOR_TEACHER.md)** - –∫—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:
- –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ö–∞–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## üìã –°—Ç–∞—Ç—É—Å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| HW1 (10 –∑–∞–¥–∞—á) | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
| HW2 –í–∞—Ä–∏–∞–Ω—Ç A | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
| HW2 –í–∞—Ä–∏–∞–Ω—Ç B | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | ‚úÖ –ü–æ–ª–Ω–∞—è |
| –†–µ–∑—É–ª—å—Ç–∞—Ç—ã | ‚úÖ –í Git |
| –õ–æ–≥–∏ | ‚úÖ –í Git |

## üéØ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–¥–∞—á–∏

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞
python scripts/test_setup.py

# 2. –ó–∞–ø—É—Å–∫ —Å –ª–æ–≥–∞–º–∏
bash scripts/run_and_save_logs.sh

# 3. –ö–æ–º–º–∏—Ç
git add .
git commit -m "Complete: All tasks with results"
git push
```

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ!** –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
